/*! js-tools-best-practice 2014-08-02*/
!function(a){function b(b,c){var d=parseInt(100*Math.ceil(b.width()/c.minItems)/b.width());a("li",b).each(function(){a(this).css({width:d+"%"})})}function c(b,c,d){console.log(d),a("li",b).eq(c.onItem).children("a").addClass("on"),a(".tab_content",d).eq(c.onItem).addClass("current"),a("li",b).on(c.changeMode,function(){b.currentIndex!=a("li",b).index(a(this))&&(b.currentIndex=a("li",b).index(a(this)),a("li a",b).removeClass("on"),a(this).children("a").addClass("on"),a(".tab_content",d).eq(b.currentIndex).addClass("current").siblings().removeClass("current"),c.callBack(b.currentIndex))})}function d(a){return parseInt(a.css("left"))}function e(a){a.bind("touchstart",function(b){var c=b.originalEvent.touches[0];a.startLeft=d(a),a.startX=c.pageX,a.css({"-webkit-transition-duration":"0"}),a.touchStartTime=(new Date).getTime()})}function f(a){a.bind("touchmove",function(b){var c=b.originalEvent.touches[0];if(a.endX=c.pageX,a.sliding||(a.sliding=!0),a.startX>a.endX)a.css("left","-"+(a.startX-a.endX-a.startLeft)+"px"),a.slidingLeft=!0;else{var d=a.endX-a.startX+a.startLeft;a.css("left",d+"px"),a.slidingLeft=!1}})}function g(b){b.bind("touchend",function(c){var e=d(b);b.columnWidth=a("li a",b).width(),b.objWidth=a("li a",b).length*b.columnWidth,b.parentWidth=b.parent().width(),e>0?(h(b,0,"0.5s"),b.startX=null):Math.abs(e)+b.parentWidth>b.objWidth?(h(b,"-"+(b.objWidth-b.parentWidth),"0.5s"),b.startX=null):b.parentWidth>b.objWidth?(h(b,0,"0.5s"),b.startX=null):i(b,c)})}function h(a,b,c){a.css({left:b+"px","-webkit-transition-property":"left","-webkit-transition-duration":c})}function i(a){var b=10*((new Date).getTime()-a.touchStartTime),c=d(a),e=6e3*(Math.abs(a.startLeft)-Math.abs(c));b=Math.round(e/b);var f=b+c;if(a.slidingLeft){var g=parseInt("-"+(a.objWidth-a.parentWidth),10);h(a,Math.max(g,f),"0.8s")}else h(a,Math.min(0,f),"0.8s");a.startX=null}function j(b){a(b).data("currentIndex",0),a(b).data("startLeft",0),a(b).data("startX",0),a(b).data("endX",0)}a.fn.lt_tab=function(d){var h=a.extend({},a.fn.lt_tab.defaults,d);return this.each(function(){var d=a(".tab_header ul",a(this));d.opts=h;var i=a(this);j(d),b(d,h),c(d,h,i),e(d,h),f(d,h),g(d,h)})},a.fn.lt_tab.defaults={minItems:4,onItem:1,changeMode:"click",callBack:function(){}}}(jQuery);